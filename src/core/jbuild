(jbuild_version 1)

; library to always open before anything else
(library
  ((name witan_open)
   (public_name witan.open)
   (synopsis "library to always open before anything else")
   (modules (open))
   (preprocess (pps (ppx_deriving.std)))
   (flags (:standard -w +a-4-42-44-48-50-58-32-60@8 -color always))
   (ocamlopt_flags (:standard -O3 -bin-annot
                    -unbox-closures -unbox-closures-factor 20))
  ))

; main binary
(library
  ((name witan_core)
   (public_name witan.core)
   (synopsis "core mcsat solver for witan")
   (libraries (containers witan_open syntax))
   (modules (:standard \ open))
   (preprocess (pps (ppx_deriving.std)))
   (flags (:standard -w +a-4-42-44-48-50-58-32-60@8 -color always -open "Witan_open.Open"))
   (ocamlopt_flags (:standard -O3 -bin-annot
                    -unbox-closures -unbox-closures-factor 20))
  ))
